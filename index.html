<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Browser based games</title>
	<link rel="stylesheet" href="style.css">
	<script src="games/runner.js" type="text/javascript"></script>
</head>
<body>

	<canvas id="canvas"></canvas>
	
 	<div id="endgame">
        <h1>Game Over</h1>
        <br>
        <p id="eg-text"></p>
        <br>
        <div id="play-again" class="button">Play again</div>
    </div>

    <script>
        Game.start(document.getElementById('canvas'));
		Game.setGameOverCallback(gameOver);
		
		function gameOver(text) {
			document.getElementById("endgame").style.display = "block";
			document.getElementById("endgame").style.opacity = "1";
			document.getElementById('eg-text').innerHTML = text;
			document.getElementById("play-again").onclick = function() {
				Game.start(document.getElementById('canvas'));
				document.getElementById("endgame").style.display = "none";
				document.getElementById("endgame").style.opacity = "0";
			}
		}
		
		window.onblur = Game.pause;
		window.onfocus = Game.resume;
    </script>
	
</body>
</html>